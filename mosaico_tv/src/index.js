import React, { useState, useEffect, useRef } from "react";
import ReactDOM from "react-dom/client";
import Antares from 'antares';
import Home from "./components/home";
import Navbar from "./components/navbar";
import { HashRouter as Router, Route, Routes as Switch, useNavigate } from 'react-router-dom';
import "./styles/app.css"
import Wizard from "./components/wizard";
import Impostazioni from "./components/impostazioni";
import Dettagli from "./components/dettagli";
import Catalogo from "./components/catalogo";
import "./styles/loader.css"


const backgroundItemVideo = "url('data:image/png;base64,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')"

const backgroundItemFilm = "url('data:image/png;base64,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')"

const App = () => {

    const [carrelli, setCarrelli] = useState(null);
    const [itemDettagli1, setItemDettagli1] = useState(null);


    useEffect(() => {
        const body = {
            page: "home"
        };

        fetch("http://cms.sportitalia.online/wp-content/api/getApi.php?data=mngksi&type=get-page", {
            method: "POST",
            body: JSON.stringify(body)
        }).then(response => response.json()).then(data => {
            console.log('Success:', data);
            if (data !== null && data !== undefined) {
                setCarrelli(data.data.rails)
            }
        }).catch((error) => {
            console.error('Errore chiamata fetch:', error);
        });
    }, []);

    useEffect(() => {
        console.log("Data carrelli:", carrelli);
    }, [carrelli]);

    const isWizardPage = window.location.hash.startsWith('#/wizard');
    const isDetailsPage = window.location.hash.startsWith("#/dettagli");
    const [showDetails, setShowDetails] = useState(false);
    const [showDetailsOnDetails, setShowDetailsOnDetails] = useState(false);
    const [isLoading, setIsLoading] = useState(false);
    const [showWizard, setShowWizard] = useState(false);

    const [openPopupIndex, setOpenPopupIndex] = useState(-1);


    const openPopup = (index) => {
        setOpenPopupIndex(index);
    };

    const closePopup = () => {
        setOpenPopupIndex(-1);
    };



    useEffect(() => {
        setIsLoading(true);
        window.spatial.pause(true);

        setTimeout(() => {
            setIsLoading(false);
            window.spatial.resume(true);
        }, 4000);
    }, []);



    return (
        <Router>
            <Antares preventHbbTVInit={true}>

                {isLoading && (
                    <div className="loader-overlay">
                        <div className="loader-container">
                            <div className="loader" />
                        </div>
                    </div>
                )}

                <div className="App">
                    {(!isWizardPage && !isDetailsPage) && (
                        <div className="navigation-bar">
                            <Navbar

                                setIsLoading={setIsLoading}
                            />
                        </div>
                    )}


                    <div className="content">
                        <Switch>
                            <Route exact path="" element={carrelli && (
                                <Home
                                    setItemDettagli1={setItemDettagli1}
                                    carrelli={carrelli}
                                    setIsLoading={setIsLoading}
                                    backgroundItemFilm={backgroundItemFilm}
                                    backgroundItemVideo={backgroundItemVideo}
                                    setShowDetails={setShowDetails}
                                    showDetails={showDetails}
                                />
                            )

                            } />
                            <Route exact path="/home" element={carrelli && (
                                <Home
                                    setItemDettagli1={setItemDettagli1}
                                    carrelli={carrelli}
                                    setIsLoading={setIsLoading}
                                    backgroundItemFilm={backgroundItemFilm}
                                    backgroundItemVideo={backgroundItemVideo}
                                    setShowDetails={setShowDetails}
                                    showDetails={showDetails}
                                />
                            )

                            } />
                            <Route exact path="/" element={carrelli && (
                                <Home
                                    setItemDettagli1={setItemDettagli1}
                                    carrelli={carrelli}
                                    setIsLoading={setIsLoading}
                                    backgroundItemFilm={backgroundItemFilm}
                                    backgroundItemVideo={backgroundItemVideo}
                                    setShowDetails={setShowDetails}
                                    showDetails={showDetails}
                                />
                            )
                            } />
                            <Route exact path="/wizard" element={<Wizard />} />
                            <Route exact path="/catalogo" element={
                                <Catalogo
                                    setItemDettagli1={setItemDettagli1}
                                    carrelli={carrelli}
                                    setIsLoading={setIsLoading}
                                    backgroundItemFilm={backgroundItemFilm}
                                    backgroundItemVideo={backgroundItemVideo}
                                    setShowDetails={setShowDetails}
                                    showDetails={showDetails} />
                            } />
                            <Route exact path="/dettagli" element={<Dettagli />} />
                            <Route exact path="/impostazioni" element={
                                <Impostazioni
                                    setIsLoading={setIsLoading}
                                    openPopupIndex={openPopupIndex}
                                    openPopup={openPopup}
                                    closePopup={closePopup}
                                    setShowWizard={setShowWizard}
                                />} />
                        </Switch>

                        {openPopupIndex !== -1 ?
                            <div className="popup-index"></div>
                            : null}

                        {showDetails ?
                            <Dettagli
                                itemDettagli1={itemDettagli1}
                                setIsLoading={setIsLoading}
                                showDetailsOnDetails={showDetailsOnDetails}
                                setShowDetailsOnDetails={setShowDetailsOnDetails}
                                backgroundItemFilm={backgroundItemFilm}
                                backgroundItemVideo={backgroundItemVideo}
                                setShowDetails={setShowDetails}
                                showDetails={showDetails}
                            />
                            : null}

                        {showDetailsOnDetails ?
                            <Dettagli
                                setIsLoading={setIsLoading}
                                showDetailsOnDetails={showDetailsOnDetails}
                                setShowDetailsOnDetails={setShowDetailsOnDetails}
                                backgroundItemFilm={backgroundItemFilm}
                                backgroundItemVideo={backgroundItemVideo}
                                setShowDetails={setShowDetails}
                                showDetails={showDetails}
                            />
                            : null}

                        {showWizard ?
                            <Wizard
                                setIsLoading={setIsLoading}
                                showWizard={showWizard}
                                setShowWizard={setShowWizard}
                            />
                            : null}
                    </div>

                </div>
            </Antares>
        </Router >
    );

}

export default App;

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(<App></App>)
